(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7601:(e,t,r)=>{Promise.resolve().then(r.bind(r,7887))},7887:(e,t,r)=>{"use strict";r.d(t,{default:()=>R});var s=r(7437),a=r(2265),i=r(4839),n=r(6164);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,i.W)(t))}let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:l("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});o.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:l("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:l("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:l("text-sm text-muted-foreground",r),...a})});u.displayName="CardDescription";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:l("p-6 pt-0",r),...a})});f.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:l("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var x=r(1764),m=r(4697),p=r(3274),h=r(4817),g=r(2218);let v=(0,g.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),y=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:l(v({variant:a}),r),...i})});y.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:l("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:l("text-sm [&_p]:leading-relaxed",r),...a})});j.displayName="AlertDescription";let b=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:l("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});b.displayName="Input";var w=r(2974);let N=(0,g.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:n=!1,...o}=e,d=n?w.g7:"button";return(0,s.jsx)(d,{className:l(N({variant:a,size:i,className:r})),ref:t,...o})});k.displayName="Button";let C=e=>{let{keywords:t,onAddKeyword:r,onRemoveKeyword:i,onSubmit:n,isLoading:l}=e,[o,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),f=e=>{let r=e.trim();return t.includes(r.toLowerCase())?(u("This keyword has already been added"),!1):/^[a-zA-Z0-9]+$/.test(r)?(u(""),!0):(u("Please use only letters and numbers"),!1)},g=()=>{let e=o.trim();e&&f(e)&&(r(e.toLowerCase()),d(""),u(""))};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b,{id:"keyword-input",type:"text",value:o,onChange:e=>{let t=e.target.value;d(t),t?f(t):u("")},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"Type a keyword and press Enter...",className:"flex-1","aria-invalid":!!c}),(0,s.jsx)(k,{type:"button",onClick:g,disabled:!o.trim()||!!c,children:"Add"})]}),c&&(0,s.jsxs)(y,{variant:"destructive",className:"mt-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),(0,s.jsx)(j,{children:c})]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm",children:[e,(0,s.jsx)("button",{onClick:()=>i(e),className:"hover:text-red-300 transition-colors",type:"button","aria-label":"Remove ".concat(e),children:(0,s.jsx)(m.Z,{className:"h-3 w-3"})})]},e))}),t.length>0&&(0,s.jsxs)(k,{onClick:n,disabled:l,className:"w-full",children:[l?(0,s.jsx)(p.Z,{className:"h-4 w-4 animate-spin mr-2"}):(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Find Associated Words"]})]})},S=e=>{let{keyword:t,associations:r,selectedAssociation:a,isLoading:i,onAssociationSelect:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:t}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,s.jsx)(k,{variant:a==e?"default":"outline",onClick:()=>n(t,e),disabled:i,children:e},e))})]})},R=()=>{let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)({}),[n,l]=(0,a.useState)({}),[x,m]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[g,v]=(0,a.useState)(""),y=async()=>{if(0!==e.length){h(!0);try{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:e})},r=await fetch("http://localhost:8000/api/joke-writer/associations",t);if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let s=await r.json();i(s.keys_associations),v(s.thread_id),m(""),l({})}catch(e){console.error("Error fetching associated words:",e),i({})}finally{h(!1)}}},j=async(e,t)=>{l({...n,[e]:t})},b=async()=>{h(!0);try{let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},t=await fetch("http://localhost:8000/api/joke-writer/joke/".concat(g),e);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();m(r.joke)}catch(e){console.error("Error generating joke:",e),m("")}finally{h(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto p-4 space-y-4",children:[(0,s.jsxs)(o,{children:[(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{children:"Keyword to Joke Generator"}),(0,s.jsx)(u,{children:"Enter multiple keywords to find associated words and generate jokes"})]}),(0,s.jsx)(f,{children:(0,s.jsx)(C,{keywords:e,onAddKeyword:r=>{t([...e,r])},onRemoveKeyword:r=>{t(e.filter(e=>e!==r))},onSubmit:y,isLoading:p})})]}),Object.keys(r).length>0&&(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsx)(c,{children:"Associated Words"})}),(0,s.jsxs)(f,{children:[Object.entries(r).map(e=>{let[t,r]=e;return(0,s.jsx)(S,{keyword:t,associations:r,selectedAssociation:(null==n?void 0:n[t])!==void 0?n[t]:"",onAssociationSelect:j,isLoading:p},t)}),(0,s.jsx)(k,{className:"mt-4",onClick:b,disabled:p})]})]}),x&&(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsx)(c,{children:"Generated Joke"})}),(0,s.jsx)(f,{children:(0,s.jsx)("p",{className:"text-lg",children:x})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[575,130,215,744],()=>t(7601)),_N_E=e.O()}]);